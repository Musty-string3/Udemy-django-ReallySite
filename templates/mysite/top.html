{% extends "mysite/base.html" %}

{% block content %}

{% comment %} URLの書き方を省略して使える {% endcomment %}
{% url 'blog:index' as blog_index %}

<div class="container">
    <div class="p-4 p-md-5 mb-4 rounded bg-warning">
        <div class="col-md-6 px-0">
            <h1 class="display-4 font-italic">Django講座</h1>
            <p class="lead my-3">文章をかこう</p>
            <p class="lead mb-0">
                <a href="{% url 'blog:new' %}" class="font-weight-bold">新規作成</a>
            </p>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-12 m-auto text-center">
            <h3 class="shadow pb-2 pt-2 mb-3 bg-body-tertiary rounded">人気記事TOP3</h3>
        </div>
        <div class="col-lg-11 col-md-10 col-12 m-auto">
            <div class="card-deck row row-cols-1 row-cols-md-2 g-4 mb-3">
            {% for article in popular_articles %}
                <div class="col-lg-4 col-md-6 col-12">
                    {% include "snippets/articles_index.html" %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<main class="container">
    <div class="row">
        <div class="col-md-8">
            <h3 class="pb-4 font-italic border-bottom">
                最新記事TOP5
            </h3>
            <div class="card-deck row row-cols-1 row-cols-md-2 g-4 mb-3">
                {% for article in last_three_articles %}
                <div class="col-lg-4 col-md-6 col-12">
                    {% include "snippets/articles_index.html" %}
                </div>
                {% endfor %}
            </div>
            <nav class="blog-pagination">
                <a class="btn btn-outline-primary me-2" href="{{ blog_index }}">ブログ一覧はこちら</a>
                <a class="btn btn-outline-info" href="{% url 'blog:new' %}">新しい記事の作成</a>
            </nav>
        </div>
        {% comment %} サイドバー {% endcomment %}
        {% include "snippets/sideber.html" %}
    </div>
</main>

{% endblock %}